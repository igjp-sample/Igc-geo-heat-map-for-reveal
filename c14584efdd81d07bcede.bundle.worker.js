/*! For license information please see c14584efdd81d07bcede.bundle.worker.js.LICENSE.txt */
(()=>{"use strict";let t={},e=0,i=(()=>{class t{constructor(){}equals(t){return this===t}static equalsStatic(t,e){var i=null==t||!!t.isNullable&&!t.hasValue,s=null==e||!!e.isNullable&&!e.hasValue;return i||s?i&&s:t.equals?t.equals(e):e.equals?e.equals(t):!(!Number.isNaN(t)||!Number.isNaN(e))||(t instanceof Date?e instanceof Date&&+t==+e:t==e&&typeof t==typeof e)}static equalsSimple(t,e){return t==e}static compareSimple(t,e){return t==e?0:t<e?-1:1}static compare(e,i){if(e===i)return 0;var s=n(x,e);if(null!==s&&s.compareToObject)return s.compareToObject(i);var r=n(x,i);return null!==r&&r.compareToObject?-r.compareToObject(e):t.compareSimple(e,i)}getHashCode(){return void 0===this.$hashCode&&(this.$hashCode=t.nextHashCode++),this.$hashCode}static getHashCodeStatic(e){return e.getHashCode?e.getHashCode():void 0!==e.$hashCode?e.$hashCode:"object"!=typeof e?s.getPrimitiveHashCode(e):(e.$hashCode=t.nextHashCode++,e.$hashCode)}memberwiseClone(){var t;try{t=Object.create(this.$type.InstanceConstructor.prototype)}catch(e){class i{}i.prototype=this.$type.InstanceConstructor.prototype,t=new i}for(var e in this)this.hasOwnProperty(e)&&(t[e]=this[e]);return t}static referenceEquals(t,e){return t===e||null==t&&null==e}static getArrayOfValues(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e}static getArrayOfProperties(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}}return t.nextHashCode=0,t})();class s extends i{constructor(s,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.prototype.$type,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;super(),this.specializationCache=null,this._staticInitializer=null,this.name=null,this.typeArguments=null,this.baseType=null,this.interfaces=null,this.isEnumType=!1,this._isGenericType=void 0,this._staticFields=null,this.isNullable=!1,this._$nullNullable=null,this.enumInfo=null,this.specializationCache={},this._staticInitializer=a,this._fullName=r,this.name=r,this.InstanceConstructor=s;var u=this.name.lastIndexOf(".");u>=0&&(this.name=this.name.substr(u+1)),this.typeArguments=null,this.baseType=null,this.interfaces=null,n&&(this.baseType=n),l&&(this.interfaces=l),t[r]?this.identifier=t[r]:(this.identifier=e++,t[r]=this.identifier)}get typeName(){return this.name}get fullName(){return this._fullName}getSpecId(t){if(1===t.length)return t[0]?-1===t[0]?void 0:t[0].typeName?t[0].stringId?t[0].stringId:t[0].identifier.toString():t[0].toString():"undef";for(var e="",i=0;i<t.length;i++){var s=t[i];if(s){if(-1==s)return;s.typeName?s.stringId?e+=s.stringId:e+=s.identifier.toString():e+=s.toString()}else e+="undef"}return e}get isGenericType(){return void 0===this._isGenericType&&(this._isGenericType=this.name.indexOf("$")>=0),this._isGenericType}get isGenericTypeDefinition(){return null===this.typeArguments&&this.isGenericType}get genericTypeArguments(){return this.typeArguments}getStaticFields(t){void 0===t&&(t=this);for(var e=this;null!=e;){if(e===t||e._fullName==t._fullName)return null==e._staticFields&&e._staticInitializer&&(e._staticFields={},e._staticInitializer.apply(e._staticFields,e.typeArguments)),e._staticFields;e=e.baseType}return null}initSelfReferences(t){var e,i;if(t){if(this.typeArguments){var r=!1;for(i=0;i<this.typeArguments.length;i++){var n=this.typeArguments[i];-1==n?(r=!0,this.typeArguments[i]=t):n&&n instanceof s&&n.initSelfReferences&&n.initSelfReferences(t)}if(r){var l=this.getSpecId(this.typeArguments);this.specializationCache[l]||(this.specializationCache[l]=this)}}}else if(this.baseType&&this.baseType.initSelfReferences(this),this.interfaces)for(e=0;e<this.interfaces.length;e++)this.interfaces[e].initSelfReferences(this);return this}specialize(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r;if(!this.isGenericType)return this;var n=this.getSpecId(Array.from(arguments)),l=this.specializationCache[n];if(l)return l;(l=new s(this.InstanceConstructor,this._fullName,this.baseType,this.interfaces,this._staticInitializer)).specializationCache=this.specializationCache;var a=this.typeArguments,u=!1;if(a&&a.length&&(u=!0),l.typeArguments=[],u)for(r=0;r<a.length;r++)"number"==typeof a[r]&&isFinite(a[r])&&!isFinite(arguments[a[r]])?l.typeArguments[r]=arguments[a[r]]:l.typeArguments[r]=a[r];else for(r=0;r<arguments.length;r++)l.typeArguments[r]=arguments[r];if(this.baseType&&this.baseType.typeArguments&&(l.baseType=this.specialize.apply(this.baseType,l.typeArguments)),this.interfaces)for(l.interfaces=[],r=0;r<this.interfaces.length;r++)l.interfaces[r]=this.specialize.apply(this.interfaces[r],l.typeArguments);if("Nullable$1"==this._fullName&&1==l.typeArguments.length&&(l.isNullable=!0),n&&(this.specializationCache[n]=l,l.stringId=l.generateString()),null!=this.InstanceConstructor){var h=this;l.InstanceConstructor=function(){return h.InstanceConstructor.apply(this,l.typeArguments.concat(Array.prototype.slice.call(arguments,0))),this},l.InstanceConstructor.prototype=this.InstanceConstructor.prototype}return l}equals(t){if(!(t instanceof s))return!1;if(this.identifier!==t.identifier)return!1;if(null===this.typeArguments&&null===t.typeArguments)return!0;if(null===this.typeArguments&&null!==t.typeArguments)return!1;if(null!==this.typeArguments&&null===t.typeArguments)return!1;if(this.typeArguments.length!==t.typeArguments.length)return!1;for(var e=0;e<this.typeArguments.length;e++)if(!s.checkEquals(this.typeArguments[e],t.typeArguments[e]))return!1;return!0}static checkEquals(t,e){return t instanceof s?t.equals(e):e instanceof s?e.equals(t):t===e}static op_Equality(t,e){return t.equals(e)}static op_Inequality(t,e){return!t.equals(e)}generateString(){if(this.typeArguments&&this.typeArguments.length){for(var t=this.identifier.toString()+"[",e=!0,i=0;i<this.typeArguments.length;i++)null!=this.typeArguments[i]&&(e?e=!1:t+=",",this.typeArguments[i].toString?t+=this.typeArguments[i].toString():t+=this.typeArguments[i].identifier.toString());return t+"]"}return this.identifier.toString()}get isValueType(){return this.baseType===b.prototype.$type}isAssignableFrom(t){if(this===t)return!0;if(t.baseType&&this.isAssignableFrom(t.baseType))return!0;if(t.interfaces)for(var e=0;e<t.interfaces.length;e++)if(this.isAssignableFrom(t.interfaces[e]))return!0;return!1}isInstanceOfType(t){return null!==n(this,t)}get isPrimitive(){return this===L||this===E}static canAssign(t,e){return"Nullable$1"===t.name&&"Nullable$1"!==e.name&&(t=y.getUnderlyingType(t)),s.canAssignSimple(t,e)}static canAssignSimple(t,e){if(t===e||s.checkEquals(t,e))return!0;if(e.interfaces)for(var i=0;i<e.interfaces.length;i++)if(s.canAssignSimple(t,e.interfaces[i]))return!0;return!!e.baseType&&s.canAssignSimple(t,e.baseType)}static createInstance(t){if(t===Number||t==L||t.isEnumType)return 0;if(t==Boolean||t==E)return!1;if(t.InstanceConstructor)return new(0,t.InstanceConstructor)(...Array.prototype.slice.call(arguments,1));throw new Error("Cannot find instance constructor for the type parameter")}static getDefaultValue(t){return t===L||t.isEnumType?0:t!=E&&(t.baseType===b.$type?s.createInstance(t):null)}static getPrimitiveHashCode(t){var e=typeof t;if("string"===e||t instanceof String){var i,s,r=0;if(0===t.length)return r;for(i=0,s=t.length;i<s;i++)r=(r<<5)-r+t.charCodeAt(i),r|=0;return r}return"boolean"===e||t instanceof Boolean?+t:t}static decodePropType(t){return 0===t?E:1===t?L:2===t?k:3===t?O:t}}function r(t){return null!==t&&t.$type&&t.$type.isEnumType?t.value:t}function n(t,e){if(null==e)return null;if(t===Array)return e instanceof Array?e:null;t===String&&(t=k),t===Number&&(t=L),t===Boolean&&(t=E),t===Date&&(t=O);var i=e;return e.$type?i=e.$type:"number"==typeof e?i=t===Number?Number:L:"string"==typeof e?i=k:"boolean"==typeof e?i=E:e instanceof Date?i=O:e instanceof Array&&(i=G),s.canAssignSimple(t,i)?e:"Nullable$1"===t.name&&"Nullable$1"!==i.name?(t=y.getUnderlyingType(t),s.canAssignSimple(t,i)?w(t,e):w(t,null)):null}function l(t,e){var i=!1;return t.isNullable&&(t=t.typeArguments[0],i=!0),null!==e&&t.isEnumType&&(e=e.value),i?w(t,e):e}let a=new Array;function u(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.prototype.$type,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return t.prototype.$type=new s(t,e,i,r,n),"function"==typeof t.staticInit&&a.push(t),t.$type=t.prototype.$type,t.$=t.prototype.$type,t.prototype.$type}let h=!1;function o(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.prototype.$type,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return t.prototype.$type=new s(t,e,r,n,l),h||(h=!0,o(s,"Type"),o(i,"Base",null)),"function"==typeof t.staticInit&&a.push(t),t.$type=t.prototype.$type,t.$=t.prototype.$type,t.prototype.$type}let m=new s(null,"IConvertible"),g=(()=>{class t extends i{}return t.$t=o(t,"Enum"),t})();class c extends g{constructor(t,e){super(),this.value=t,this.$type=e}getHashCode(){return this.value}toDouble(t){return this.value}toString(){return d.getName(this.$type,this.value)}}function p(t,e){return null!==e&&t&&(t.isNullable&&(t=t.typeArguments[0]),t.isEnumType)?f(t,e):e}function f(t,e){return t._boxes||(t._boxes={}),t._boxes[e]||(t._boxes[e]=new c(e,t)),t._boxes[e]}class d{static getValueFromName(t,e,i,s){if(t.hasOwnProperty(i))return f(e,t[i]);if(s){var r=i.toUpperCase();for(var n in t)if(n.toUpperCase()===r)return f(e,t[n])}else{var l=i.charAt(0);if(i="_"!=l?l.toLowerCase()+i.substr(1):"_"+i.charAt(1).toLowerCase()+i.substr(2),t.hasOwnProperty(i))return f(e,t[i])}return null}static parse(t,e,i){{var s=t.isEnumType?t.enumInfo.actualNamesValuesMap:t.InstanceConstructor.prototype;let r=d.getValueFromName(s,t,e,i);if(null!==r)return r;if(t.isEnumType){s=t.enumInfo.namesValuesMap;let r=d.getValueFromName(s,t,e,i);if(null!==r)return r}}throw new Error("Invalid "+t.name+" value: "+e)}static enumHasFlag(t,e){return(t&e)===e}static toString(t,e){return d.getName(t,e)}static getName(t,e){if(null==t._nameMap){let e=d.getValues(t),i=t.isEnumType?t.enumInfo.names:d.getNames(t),s={};for(let t=0;t<e.length;t++)s[e[t]]=i[t];t._nameMap=s}return t._nameMap[e]}static getFlaggedName(t,e,i){var s,r,n=[],l=e,a=[];for(var u in this)this.hasOwnProperty(u)&&(r=t[u],"number"==typeof t[u]&&a.push(u));a.sort(((t,e)=>this[t]-this[e]));for(var h=a.length-1;h>=0;h--)0===(r=this[a[h]])?s=i(0):(e&r)===r&&(e-=r,n.unshift(i(r)));return 0!==e?l.toString():0!==l?n.join(", "):s||"0"}static getValues(t){var e=[];if(t.isEnumType){for(let i=0;i<t.enumInfo.actualNames.length;i++)e.push(t.enumInfo.actualNamesValuesMap[t.enumInfo.actualNames[i]]);return e}var i=t.isEnumType?t.enumInfo.actualNames:t.InstanceConstructor.prototype;for(var s in i)i.hasOwnProperty(s)&&"number"==typeof i[s]&&e.push(i[s]);return e}static getNames(t){var e=[];if(t.isEnumType){for(let i=0;i<t.enumInfo.actualNames.length;i++)e.push(t.enumInfo.actualNames[i]);return e}var i=t.isEnumType?t.enumInfo.actualNames:t.InstanceConstructor.prototype;for(var s in i)i.hasOwnProperty(s)&&"number"==typeof i[s]&&e.push(s);return e}static getEnumValue(t,e){return null!=e?"number"==typeof e?e:e.value:0}static isDefined(t,e){e=r(e);var i=t.isEnumType?t.enumInfo.actualNamesValuesMap:t.InstanceConstructor.prototype;for(var s in i)if(i.hasOwnProperty(s)&&i[s]===e)return!0;return!1}static toDouble(t,e,i){return e.value}static toObject(t,e){return e}static tryParse$1(t,e,i,n){try{return{ret:!0,p2:r(d.parse(t,e,i))}}catch(e){return{ret:!1,p2:s.createInstance(t)}}}}let b=(()=>{class t extends i{}return t.$t=o(t,"ValueType"),t})(),y=(()=>{class t extends i{static getUnderlyingType(t){return void 0!==t.isGenericType&&t.isGenericType&&!t.isGenericTypeDefinition&&_.prototype.$type.typeName==t.typeName?t.genericTypeArguments[0]:null}}return t.$t=o(t,"Nullable"),t})(),_=(()=>{class t extends i{constructor(t,e){super(),this.$t=null,this._value=null,this.isNullable=!0,this.$t=t,this.$type=this.$type.specialize(this.$t),void 0!==e&&(this._value=e)}static nullableEquals(t,e){var i=null==t||!!t.isNullable&&!t.hasValue,s=null==e||!!e.isNullable&&!e.hasValue;if(i&&s)return!0;if(i!=s)return!1;var r=t,n=e;return t.isNullable&&(r=t.value),e.isNullable&&(n=e.value),r==n}equals(e){return t.nullableEquals(this,e)}getHashCode(){return null===this._value?0:void 0!==this._value.getHashCode?this._value.getHashCode():s.getPrimitiveHashCode(this._value)}get hasValue(){return null!==this._value}toString(){return null===this._value?"":this._value.toString()}get value(){return this._value}set value(t){this._value=t}getValueOrDefault(){return this.hasValue?this._value:this.getDefaultValue()}getDefaultValue(){return s.canAssign(L,this.$t)?0:!s.canAssign(E,this.$t)&&(this.$t.baseType==b.prototype.$type?s.createInstance(this.$t):null)}getValueOrDefault1(t){return this.hasValue?this._value:t}preIncrement(){return this.hasValue?(this._value=this._value+1,this):this}preDecrement(){return this.hasValue?(this._value=this._value-1,this):this}postIncrement(){if(!this.hasValue)return this;var e=this._value;return this._value=this._value+1,new t(this.$t,e)}postDecrement(){if(!this.hasValue)return this;var e=this._value;return this._value=this._value-1,new t(this.$t,e)}}return t.$t=o(t,"Nullable$1"),t})();function w(t,e){return null==e?t._$nullNullable||(t._$nullNullable=new _(t,null)):e.isNullable?e:new _(t,e)}let x=new s(null,"IComparable"),V=new s(null,"IComparable$1");class v{constructor(t,e){this._inner=null,this._getNew=null,this._hasNext=!0,this._current=null,this._inner=t,this._getNew=e}moveNext(){let t=this._inner.next();return this._hasNext=!t.done,this._current=t.value,this._hasNext}get current(){return this._current}get currentObject(){return this._current}dispose(){}reset(){this._inner=this._getNew(),this._current=null,this._hasNext=!0}}class C{constructor(t){this._inner=null,this._inner=t}next(){let t=!this._inner.moveNext(),e=null;return t||(e=this._inner.current),{done:t,value:e}}}class I{constructor(t){this._inner=null,this._inner=t}next(){let t=!this._inner.moveNext(),e=null;return t||(e=this._inner.currentObject),{done:t,value:e}}}function*M(t){for(let e of t)yield e}function $(t){if(t instanceof Array||Array.isArray(t)){let e=t;return new v(M(e),(()=>M(e)))}return t.getEnumeratorObject()}function A(t){if(t instanceof Array||Array.isArray(t)){let e=t;return new v(M(e),(()=>M(e)))}return t.getEnumerator()}class N{constructor(t){this._inner=null,this._inner=t}[Symbol.iterator](){return new C(A(this._inner))}}class T{constructor(t){this._inner=null,this._inner=t}[Symbol.iterator](){return new I($(this._inner))}}function S(t){return new N(t)}let L=new s(Number,"Number",i.prototype.$type,[x,m]),k=new s(String,"String",i.prototype.$type,[x,m]),O=new s(Date,"Date",i.prototype.$type,[x,m]),E=new s(Boolean,"Boolean",i.prototype.$type,[x,m]);i.prototype.$type;let q=new s(null,"IEnumerable"),z=new s(null,"ICollection",null,[q]),R=new s(null,"IList",null,[q,z]),F=new s(null,"IEnumerable$1",null,[q]),B=new s(null,"IList$1",null,[new s(null,"ICollection$1",null,[F.specialize(0),q]).specialize(0),F.specialize(0),q]),D=(()=>{class t extends i{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];if(super(),this._message=null,this._innerException=null,t>=0)switch(t){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}}get_message(){return this._message}get message(){return this.get_message()}get innerException(){return this._innerException}init1(t,e){this._message=e}init2(t,e,i){this._message=e,this._innerException=i}toString(){return this._message}}return t.$t=o(t,"BaseError"),t})(),j=(()=>{class t extends i{static get empty(){return t._empty||(t._empty=new t),t._empty}}return t.$t=o(t,"EventArgs"),t})(),G=new s(Array,"Array",i.prototype.$type,[q,z]),P=(()=>{class t extends D{constructor(t){switch(t=null==t?0:t){case 0:super(0);break;case 1:case 2:super(1,arguments.length<=1?void 0:arguments[1]);break;case 3:super(2,arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}}}return t.$t=o(t,"ArgumentException",D.$),t})();function H(t,e){return Y(t/e)}function Y(t){return t>=0?Math.floor(t):Math.ceil(t)}function Z(t,e){return Math.log(t)/Math.log(e)}function W(t){return t!=t}const U={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};let J=(()=>{class t extends b{constructor(){super(),this._a=0,this._r=0,this._g=0,this._b=0,this._colorString=null,this.a=!1}get l(){return this._a}set l(t){this._a=Y(Math.round(t)),this.a=!0}get o(){return this._r}set o(t){this._r=Y(Math.round(t)),this.a=!0}get n(){return this._g}set n(t){this._g=Y(Math.round(t)),this.a=!0}get m(){return this._b}set m(t){this._b=Y(Math.round(t)),this.a=!0}get colorString(){return(this.a||null==this._colorString)&&(this.a=!1,this.s()),this._colorString}set colorString(t){this._colorString=t,this.r()}static create(e){if(null!==n(t.$,e))return e;let i=new t;if("string"==typeof e)i.colorString=e;else if(null!=e)throw new P(1,"Unknown color type");return i}s(){this._colorString="rgba("+this._r+","+this._g+","+this._b+","+this._a/255+")"}r(){if(null==this.colorString)return void(this.l=this.o=this.n=this.m=0);let t=(s={a:255,r:0,g:0,b:0},"transparent"===(r=(e=this._colorString).replace(" ","").toLowerCase())?{a:0,r:0,g:0,b:0}:(void 0!==U[r]&&(e=U[r]),0===e.lastIndexOf("rgba",0)?(i=(e=e.replace("rgba","").replace(" ","").replace("(","").replace(")","")).split(","),s.r=parseInt(i[0],10),s.g=parseInt(i[1],10),s.b=parseInt(i[2],10),s.a=255*parseFloat(i[3])):0===e.lastIndexOf("rgb",0)?(i=(e=e.replace("rgb","").replace(" ","").replace("(","").replace(")","")).split(","),s.r=parseInt(i[0],10),s.g=parseInt(i[1],10),s.b=parseInt(i[2],10)):8===(e=e.replace("#","").replace(" ","")).length?(s.r=parseInt(e.substr(0,2),16),s.g=parseInt(e.substr(2,2),16),s.b=parseInt(e.substr(4,2),16),s.a=parseInt(e.substr(6,2),16)):6===e.length?(s.r=parseInt(e.substr(0,2),16),s.g=parseInt(e.substr(2,2),16),s.b=parseInt(e.substr(4,2),16)):3===e.length&&(s.r=parseInt(e.substr(0,1)+e.substr(0,1),16),s.g=parseInt(e.substr(1,1)+e.substr(1,1),16),s.b=parseInt(e.substr(2,1)+e.substr(2,1),16)),s));var e,i,s,r;this._a=void 0!==t.a?Math.round(t.a):0,this._r=void 0!==t.r?Math.round(t.r):0,this._g=void 0!==t.g?Math.round(t.g):0,this._b=void 0!==t.b?Math.round(t.b):0,function(t,e){return 0==t.indexOf("#")}(this._colorString)&&9==this._colorString.length&&this.s()}static u(e,i,s,r){let n=new t;return n._a=0|e,n._r=0|i,n._g=0|s,n._b=0|r,n.a=!0,n}equals(e){if(null!==n(t.$,e)==0)return!1;let i=e;return this._a==i._a&&this._r==i._r&&this._g==i._g&&this._b==i._b}getHashCode(){return this._a<<24|this._r<<16|this._g<<8|this._b}static d(e,i){return!t.b(e,i)}static e(e,i){return e.hasValue?!i.hasValue||t.d(e.value,i.value):i.hasValue}static b(t,e){return t._a==e._a&&t._r==e._r&&t._g==e._g&&t._b==e._b}static c(e,i){return e.hasValue?!!i.hasValue&&t.b(e.value,i.value):!i.hasValue}}return t.$t=u(t,"Color"),t})(),K=(()=>{class t extends i{constructor(){super(...arguments),this._scaler=null,this._blurRadius=0,this._maxBlurRadius=0,this._useBlurRadiusAdjustedForZoom=!1,this._minimumColor=new J,this._maximumColor=new J,this._tileViewport=null,this._yValues=null,this._xValues=null,this._values=null,this._isNewData=!1,this._minimumVisibleLatitude=0,this._maximumVisibleLatitude=0,this._minimumVisibleLongitude=0,this._maximumVisibleLongitude=0,this._z=0,this._x=0,this._y=0,this._window=null,this._testRun=!1,this._globalMinimum=0,this._globalMaximum=0,this._useGlobalMinMax=!1,this._minimumValue=0,this._maximumValue=0,this._scaleColors=null,this._scaleColorOffsets=null,this._useLogarithmicScale=!1,this._logarithmBase=0,this._image=null}get scaler(){return this._scaler}set scaler(t){this._scaler=t}get blurRadius(){return this._blurRadius}set blurRadius(t){this._blurRadius=t}get maxBlurRadius(){return this._maxBlurRadius}set maxBlurRadius(t){this._maxBlurRadius=t}get useBlurRadiusAdjustedForZoom(){return this._useBlurRadiusAdjustedForZoom}set useBlurRadiusAdjustedForZoom(t){this._useBlurRadiusAdjustedForZoom=t}get minimumColor(){return this._minimumColor}set minimumColor(t){this._minimumColor=t}get maximumColor(){return this._maximumColor}set maximumColor(t){this._maximumColor=t}get tileViewport(){return this._tileViewport}set tileViewport(t){this._tileViewport=t}get yValues(){return this._yValues}set yValues(t){this._yValues=t}get xValues(){return this._xValues}set xValues(t){this._xValues=t}get values(){return this._values}set values(t){this._values=t}get isNewData(){return this._isNewData}set isNewData(t){this._isNewData=t}get minimumVisibleLatitude(){return this._minimumVisibleLatitude}set minimumVisibleLatitude(t){this._minimumVisibleLatitude=t}get maximumVisibleLatitude(){return this._maximumVisibleLatitude}set maximumVisibleLatitude(t){this._maximumVisibleLatitude=t}get minimumVisibleLongitude(){return this._minimumVisibleLongitude}set minimumVisibleLongitude(t){this._minimumVisibleLongitude=t}get maximumVisibleLongitude(){return this._maximumVisibleLongitude}set maximumVisibleLongitude(t){this._maximumVisibleLongitude=t}get z(){return this._z}set z(t){this._z=t}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}get window(){return this._window}set window(t){this._window=t}get testRun(){return this._testRun}set testRun(t){this._testRun=t}get globalMinimum(){return this._globalMinimum}set globalMinimum(t){this._globalMinimum=t}get globalMaximum(){return this._globalMaximum}set globalMaximum(t){this._globalMaximum=t}get useGlobalMinMax(){return this._useGlobalMinMax}set useGlobalMinMax(t){this._useGlobalMinMax=t}get minimumValue(){return this._minimumValue}set minimumValue(t){this._minimumValue=t}get maximumValue(){return this._maximumValue}set maximumValue(t){this._maximumValue=t}get scaleColors(){return this._scaleColors}set scaleColors(t){this._scaleColors=t}get scaleColorOffsets(){return this._scaleColorOffsets}set scaleColorOffsets(t){this._scaleColorOffsets=t}get useLogarithmicScale(){return this._useLogarithmicScale}set useLogarithmicScale(t){this._useLogarithmicScale=t}get logarithmBase(){return this._logarithmBase}set logarithmBase(t){this._logarithmBase=t}get image(){return this._image}set image(t){this._image=t}flatten(){let t=this.minimumColor.l,e=this.minimumColor.o,i=this.minimumColor.n,s=this.minimumColor.m,r=this.maximumColor.l,n=this.maximumColor.o,l=this.maximumColor.n,a=this.maximumColor.m,u=null;if(null!=this.scaleColors){u=new Array(this.scaleColors.length);for(let t=0;t<this.scaleColors.length;t++){let e={a:this.scaleColors[t].l,r:this.scaleColors[t].o,g:this.scaleColors[t].n,b:this.scaleColors[t].m};u[t]=e}}return{blurRadius:this.blurRadius,maxBlurRadius:this.maxBlurRadius,useBlurRadiusAdjustedForZoom:this.useBlurRadiusAdjustedForZoom,minimumColor:{a:t,r:e,g:i,b:s},maximumColor:{a:r,r:n,g:l,b:a},tileViewport:{left:this.tileViewport.left,top:this.tileViewport.top,width:this.tileViewport.width,height:this.tileViewport.height},yValues:this.yValues,xValues:this.xValues,values:this.values,isNewData:this.isNewData,minimumVisibleLatitude:this.minimumVisibleLatitude,minimumVisibleLongitude:this.minimumVisibleLongitude,maximumVisibleLatitude:this.maximumVisibleLatitude,maximumVisibleLongitude:this.maximumVisibleLongitude,z:this.z,x:this.x,y:this.y,window:{left:this.window.left,top:this.window.top,width:this.window.width,height:this.window.height},testRun:this.testRun,globalMinimum:this.globalMinimum,globalMaximum:this.globalMaximum,useGlobalMinMax:this.useGlobalMinMax,minimumValue:this.minimumValue,maximumValue:this.maximumValue,scaleColorOffsets:this.scaleColorOffsets,scaleColors:u,useLogarithmicScale:this.useLogarithmicScale,logarithmBase:this.logarithmBase}}}return t.$t=o(t,"TileWorkSettings"),t})(),Q=new s(null,"IArray"),X=new s(null,"IArrayList"),tt=new s(null,"IComparer"),et=new s(null,"IComparer$1");class it{static compareToObject(t,e){return t.compareToObject?t.compareToObject(e):i.compare(t,e)}static compareTo(t,e){return t.compareTo?t.compareTo(e):i.compare(t,e)}}let st=(()=>{class t extends i{constructor(t){super(),this.$t=null,this.$t=t,this.$type=this.$type.specialize(this.$t)}static defaultComparerValue(t){return new rt(t)}static a(t,e){return null}compareObject(t,e){return this.compare(l(this.$t,t),l(this.$t,e))}}return t.$t=o(t,"Comparer$1",i.$,[tt,et.specialize(0)]),t})(),rt=(()=>{class t extends st{constructor(t){super(t),this.$t=null,this.$t=t,this.$type=this.$type.specialize(this.$t)}compare(t,e){let s=n(V.specialize(this.$t),t);if(null!=s)return it.compareTo(s,e);let r=n(V.specialize(this.$t),e);return null!=r?-it.compareTo(r,t):i.compare(t,e)}}return t.$t=o(t,"DefaultComparer$1",st.$.specialize(0)),t})(),nt=(()=>{class t extends i{constructor(t,e){switch(super(),this.$t=null,this.a=null,this.c={},this.$t=t,this.$type=this.$type.specialize(this.$t),e=null==e?0:e){case 0:break;case 1:{let t=arguments.length<=2?void 0:arguments[2];this.a=t}}}item(t,e){return 2===arguments.length?(this.a.item(t,e),e):this.a.item(t)}indexOf(t){return this.a.indexOf(t)}insert(t,e){}removeAt(t){}get count(){return this.a.count}get isReadOnly(){return!0}add(t){}clear(){}contains(t){return this.a.contains(t)}copyTo(t,e){this.a.copyTo(t,e)}remove(t){return!1}getEnumerator(){return A(this.a)}getEnumeratorObject(){return A(this.a)}get isFixedSize(){return!0}add1(t){return-1}contains1(t){return this.a.contains(l(this.$t,t))}indexOf1(t){return this.a.indexOf(l(this.$t,t))}insert1(t,e){}remove1(t){}copyTo1(t,e){this.a.copyTo(t,e)}get b(){return this.a}get isSynchronized(){return!0}get syncRoot(){return this.c}}return t.$t=o(t,"ReadOnlyCollection$1",i.$,[B.specialize(0),R]),t})(),lt=(()=>{class t extends D{constructor(e){switch(e=null==e?0:e){case 0:super(1,"not implemented");break;case 1:throw super(1,arguments.length<=1?void 0:arguments[1]),new t(0)}}}return t.$t=o(t,"NotImplementedException",D.$),t})(),at=(()=>{class t extends i{constructor(t,e){switch(super(),this.$t=null,this._inner=null,this.c=!1,this.h=0,this.m={},this.$t=t,this.$type=this.$type.specialize(this.$t),e=null==e?0:e){case 0:case 2:this._inner=[],this.c=this.$t.InstanceConstructor&&this.$t.InstanceConstructor.prototype.equals===i.prototype.equals;break;case 1:{let t=arguments.length<=2?void 0:arguments[2];if(this._inner=[],this.c=this.$t.InstanceConstructor&&this.$t.InstanceConstructor.prototype.equals===i.prototype.equals,this.d(0,t,!0))return;for(let e of S(t))this.add(e)}}}x(t,e){this._inner[t]=e}r(t,e){this._inner.splice(t,0,e)}n(t){this._inner.push(t)}u(t){0!=t?this._inner.splice(t,1):this._inner.shift()}p(){this._inner=[]}item(t,e){return 2===arguments.length?(this.x(t,e),e):this._inner[t]}indexOf(t){if(this.c)return this._inner.indexOf(t);for(let e=0;e<this._inner.length;e++)if(i.equalsStatic(p(this.$t,t),p(this.$t,this._inner[e])))return e;return-1}indexOf2(t,e){if(this.c)return this._inner.indexOf(t,e);for(;e<this._inner.length;e++)if(i.equalsStatic(p(this.$t,t),p(this.$t,this._inner[e])))return e;return-1}k(t){if(this.c)return this._inner.lastIndexOf(t);for(let e=this._inner.length-1;e>=0;e--)if(i.equalsStatic(p(this.$t,t),p(this.$t,this._inner[e])))return e;return-1}insert(t,e){this.r(t,e)}removeAt(t){this.u(t)}get count(){return this._inner.length}get isReadOnly(){return!1}add(t){this.n(t)}clear(){this.p()}contains(t){return this.indexOf(t)>=0}copyTo(t,e){for(let i=0;i<this._inner.length;i++)t[e+i]=this._inner[i]}remove(t){let e=this.indexOf(t);return!(e<0||(this.u(e),0))}getEnumerator(){return $(this._inner)}getEnumeratorObject(){return $(this._inner)}asArray(){return this._inner}d(t,e,i){let s=n(X,e);if(null!=s){let e=s.asArrayList();return Array.prototype.splice.apply(this._inner,Array.prototype.concat.apply([t,0],e)),!0}let r=n(Q,e);if(null!=r){let e=r.asArray();return Array.prototype.splice.apply(this._inner,Array.prototype.concat.apply([t,0],e)),!0}let a=n(B.specialize(this.$t),e);if(null!=a){for(let e=0;e<a.count;e++){let i=a.item(e);this._inner.splice(t+e,0,i)}return!0}let u=Array.isArray(e)?e:null;if(null!=u){let e=this._inner;if(0==this._inner.length)if(i){let i=u,s=u.length;for(let r=0;r<s;r++)e[t++]=i[r]}else{let i=u.length;for(let s=0;s<i;s++)e[t++]=l(this.$t,u[s])}else for(let i=0;i<u.length;i++)e.splice(t++,0,u[i]);return!0}return!1}t(t,e){if(this.d(t,e,!1))return;let i=t;for(let t of new T(e))this._inner.splice(i,0,t),i++}s(t,e){if(this.d(t,e,!0))return;let i=t;for(let t of S(e))this._inner.splice(i,0,t),i++}v(t,e){0!=t||1!=e?this._inner.splice(t,e):this._inner.shift()}copyTo1(t,e){!function(t,e,i){for(var s=0;s<t.length;s++)e[i++]=t[s]}(this._inner,t,e)}get isFixedSize(){return!1}add1(t){return this.n(l(this.$t,t)),this._inner.length-1}contains1(t){return this.indexOf1(t)>=0}indexOf1(t){return this.indexOf(l(this.$t,t))}insert1(t,e){this.r(t,l(this.$t,e))}remove1(t){let e=this.indexOf1(t);e<0||this.u(e)}y(){let t=null;t=this.$t==L||this.$t==L?(t,e)=>t<e?-1:t==e?0:1:this.$t==L?(t,e)=>{let i=r(t),s=r(e);return i<s?-1:i==s?0:1}:this.$t==O?(t,e)=>{let i=t,s=e;return i.getTime()<s.getTime()?-1:i.getTime()==s.getTime()?0:1}:(t,e)=>{return(i=t)==(s=e)?0:i<s?-1:1;var i,s},this.ab(t)}ab(t){this._inner.sort(t)}aa(t){this._inner.sort(t)}o(t){for(let e of S(t))this._inner.push(e)}toArray(){return this._inner}q(t){for(let e=0;e<this._inner.length;e++)t(this._inner[e])}get isSynchronized(){return!0}get syncRoot(){return this.m}f(t){return this.g(t,st.defaultComparerValue(this.$t))}g(t,e){let i=0,s=this.count-1;for(;i<=s;){let r=i+H(s-i,2),n=this._inner[r],l=e.compare(n,t);if(0==l)return r;l<0?i=r+1:s=r-1}return~i}e(){return new nt(this.$t,1,this)}w(){for(let t=0;t<H(this.count,2);t++){let e=this.count-t-1,i=this._inner[t];this._inner[t]=this._inner[e],this._inner[e]=i}}z(t){this.aa(function(t,e){var i=e,s=function(){return i.apply(t,arguments)};return s.original=i,s.target=t,s}(t,t.compare))}i(t){for(let e=0;e<this._inner.length;e++)if(t(this._inner[e]))return e;return-1}l(t){throw new lt(0)}}return t.$t=o(t,"List$1",i.$,[B.specialize(0),Q,R]),t})(),ut=(()=>{class t extends j{constructor(){super(...arguments),this._imageData=null,this._image=null,this._z=0,this._x=0,this._y=0,this._url=null}get imageData(){return this._imageData}set imageData(t){this._imageData=t}get image(){return this._image}set image(t){this._image=t}get z(){return this._z}set z(t){this._z=t}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}get url(){return this._url}set url(t){this._url=t}}return t.$t=o(t,"TileImageCreatedEventArgs",j.$),t})(),ht=(()=>{class t extends ut{constructor(){super(...arguments),this._globalMinimumValue=0,this._globalMaximumValue=0,this._globalMaximumValueLongitude=0,this._globalMaximumValueLatitude=0,this._globalMinimumValueLongitude=0,this._globalMinimumValueLatitude=0}get globalMinimumValue(){return this._globalMinimumValue}set globalMinimumValue(t){this._globalMinimumValue=t}get globalMaximumValue(){return this._globalMaximumValue}set globalMaximumValue(t){this._globalMaximumValue=t}get globalMaximumValueLongitude(){return this._globalMaximumValueLongitude}set globalMaximumValueLongitude(t){this._globalMaximumValueLongitude=t}get globalMaximumValueLatitude(){return this._globalMaximumValueLatitude}set globalMaximumValueLatitude(t){this._globalMaximumValueLatitude=t}get globalMinimumValueLongitude(){return this._globalMinimumValueLongitude}set globalMinimumValueLongitude(t){this._globalMinimumValueLongitude=t}get globalMinimumValueLatitude(){return this._globalMinimumValueLatitude}set globalMinimumValueLatitude(t){this._globalMinimumValueLatitude=t}}return t.$t=o(t,"HeatTileImageCreatedEventArgs",ut.$),t})(),ot=(()=>{class t extends i{constructor(e){super(),this.f=null,this.a=null,this.n=0,this.o=0,this.p=0,this.w=null,this.u=0,this.h=!1,this.r=0,this.i=0,this.j=0,this.k=0,this.l=0,this._completedSink=null,this.f=e,t.s++,0x8000000000000000==t.s&&(t.s=0),this.r=t.s}get t(){return this.r}get g(){return this.f}doWork(){let t=this.g.blurRadius,e=t,i=this.g.maxBlurRadius,s=this.g.scaler;this.n=this.g.x,this.o=this.g.y,this.p=this.g.z,this.g.useBlurRadiusAdjustedForZoom&&this.p>0&&(e=t*(Math.sqrt(2)*Math.pow(2,this.p-1))),W(i)||e>i&&(e=i);let r,n,l,a,u,h,o,m,g,c=this.g.xValues,p=this.g.yValues,f=this.g.values,d=this.g.xValues.length,b=(this.g.yValues.length,this.g.minimumVisibleLongitude),y=this.g.maximumVisibleLongitude,_=this.g.minimumVisibleLatitude,w=this.g.maximumVisibleLatitude,x=this.q(this.g.tileViewport,e),V=this.c(x,e),v=Math.abs(s.t(0,this.g.window,this.g.tileViewport)-s.t(e,this.g.window,this.g.tileViewport)),C=Math.abs(s.u(0,this.g.window,this.g.tileViewport)-s.u(e,this.g.window,this.g.tileViewport)),I=new at(L,0),M=new at(L,0),$=new at(L,0);for(let t=0;t<d;t++)r=c[t],n=p[t],l=f[t],a=r-C,u=r+C,h=n-v,o=n+v,u<b||o<_||h>w||a>y||(I.add(r),M.add(n),$.add(l));let A,N,T,S,k=this.d(this.g.tileViewport),O=this.b(this.g.tileViewport),E=Y(this.g.tileViewport.width),q=M.count;s.v(M,this.g.window,this.g.tileViewport),s.w(I,this.g.window,this.g.tileViewport);for(let t=0;t<q;t++){m=Y(Math.floor(I._inner[t]-e)),g=Y(Math.floor(M._inner[t]-e));for(let e=m;e<m+x;e++)for(let i=g;i<g+x;i++)A=e-m,N=i-g,e<0||e>E-1||i<0||i>E-1||(T=V[N*x+A],S=$._inner[t]*T,O[i*E+e]=O[i*E+e]+S)}let z,R=O.length,F=-17976931348623157e292,B=17976931348623157e292;if(W(this.g.globalMinimum)||W(this.g.globalMaximum)||!this.g.useGlobalMinMax||this.g.testRun)if(W(this.g.minimumValue)||W(this.g.maximumValue)){let t=-1,i=-1;for(let e=0;e<R;e++)z=O[e],z>0&&(z>F&&(F=z,t=e),z<B&&(B=z,i=e));let r=Y(Math.floor(t/E)),n=t%E,l=Y(Math.floor(i/E)),a=i%E;this.g.globalMinimum=B,this.g.globalMaximum=F;let u=0,h=0,o=0,c=0,p=0,f=0;for(let t=0;t<q;t++){m=Y(Math.floor(I._inner[t]-e)),g=Y(Math.floor(M._inner[t]-e));for(let e=m;e<m+x;e++)for(let i=g;i<g+x;i++)A=e-m,N=i-g,e<0||e>E-1||i<0||i>E-1||(e==n&&i==r&&(u++,o+=s.t(M._inner[t],this.g.window,this.g.tileViewport),c+=s.u(I._inner[t],this.g.window,this.g.tileViewport)),e==a&&i==l&&(h++,p+=s.t(M._inner[t],this.g.window,this.g.tileViewport),f+=s.u(I._inner[t],this.g.window,this.g.tileViewport)))}this.i=o/u,this.j=c/u,this.k=p/h,this.l=f/h,W(this.g.minimumValue)||(B=this.g.minimumValue),W(this.g.maximumValue)||(F=this.g.maximumValue)}else B=this.g.minimumValue,F=this.g.maximumValue;else B=this.g.globalMinimum,F=this.g.globalMaximum,W(this.g.minimumValue)||(B=this.g.minimumValue),W(this.g.maximumValue)||(F=this.g.maximumValue);this.g.testRun||(this.x(k,O,F,B),this.a=k),this.z()}x(t,e,i,s){let r,n=e.length;this.g.useLogarithmicScale&&(s=s<=0?0:Z(s,this.g.logarithmBase),i=i<=0?0:Z(i,this.g.logarithmBase));let l,a,u,h,o=0,m=i-s;(W(m)||m<=0)&&(m=1);let g=this.g.useLogarithmicScale,c=this.g.logarithmBase;if(null!=this.g.scaleColors){let i=new Array(this.g.scaleColors.length),p=new Array(this.g.scaleColors.length),f=new Array(this.g.scaleColors.length),d=new Array(this.g.scaleColors.length),b=new Array(this.g.scaleColors.length),y=new Array(this.g.scaleColors.length),_=new Array(this.g.scaleColors.length),w=new Array(this.g.scaleColors.length),x=new Array(this.g.scaleColors.length),V=new Array(this.g.scaleColors.length),v=new Array(this.g.scaleColors.length),C=new Array(this.g.scaleColors.length),I=this.g.scaleColorOffsets;if(null==I||I.length!=this.g.scaleColors.length)if(I=new Array(this.g.scaleColors.length),1==I.length)I[0]=0;else for(let t=0;t<this.g.scaleColors.length;t++)I[t]=t/(this.g.scaleColors.length-1);for(let t=0;t<this.g.scaleColors.length;t++)i[t]=this.g.scaleColors[t].l,f[t]=this.g.scaleColors[t].o,b[t]=this.g.scaleColors[t].n,_[t]=this.g.scaleColors[t].m,t<this.g.scaleColors.length-1?(p[t]=this.g.scaleColors[t+1].l,d[t]=this.g.scaleColors[t+1].o,y[t]=this.g.scaleColors[t+1].n,w[t]=this.g.scaleColors[t+1].m):(p[t]=this.g.scaleColors[t].l,d[t]=this.g.scaleColors[t].o,y[t]=this.g.scaleColors[t].n,w[t]=this.g.scaleColors[t].m),x[t]=p[t]-i[t],V[t]=d[t]-f[t],v[t]=y[t]-b[t],C[t]=w[t]-_[t];for(let p=0;p<n;p++){if(r=e[p],0==r)continue;g&&(r=r<=0?0:Z(r,c)),o=(r-s)/m,o<0&&(o=0),o>1&&(o=1);let n=0;for(let t=0;t<I.length;t++)if(I[t]>=o){n=t-1;break}n>I.length-2&&(n=I.length-2),n<0&&(n=0),o=(o-I[n])/(I[n+1]-I[n]),l=Y(Math.floor(i[n]+o*x[n])),a=Y(Math.floor(f[n]+o*V[n])),u=Y(Math.floor(b[n]+o*v[n])),h=Y(Math.floor(_[n]+o*C[n])),t[4*p]=l,t[4*p+1]=a,t[4*p+2]=u,t[4*p+3]=h}}else{let i=this.g.minimumColor.l,p=this.g.maximumColor.l,f=this.g.minimumColor.o,d=this.g.maximumColor.o,b=this.g.minimumColor.n,y=this.g.maximumColor.n,_=this.g.minimumColor.m,w=p-i,x=d-f,V=y-b,v=this.g.maximumColor.m-_;for(let p=0;p<n;p++)r=e[p],0!=r&&(g&&(r=Z(r,c)),o=(r-s)/m,o<0&&(o=0),o>1&&(o=1),l=Y(Math.floor(i+o*w)),a=Y(Math.floor(f+o*x)),u=Y(Math.floor(b+o*V)),h=Y(Math.floor(_+o*v)),t[4*p]=l,t[4*p+1]=a,t[4*p+2]=u,t[4*p+3]=h)}}b(t){let e=new Array(Y(t.width)*Y(t.height));for(let t=0;t<e.length;t++)e[t]=0;return e}d(t){let e=new Array(Y(t.width)*Y(t.height)*4);for(let t=0;t<e.length;t++)e[t]=0;return e}c(t,e){let i=new Array(t*t);for(let t=0;t<i.length;t++)i[t]=0;let s=t/2,r=t/2;for(let e=0;e<t;e++)for(let n=0;n<t;n++){let l=Math.sqrt(Math.pow(e-r,2)+Math.pow(n-r,2));i[n*t+e]=l>s?0:s-l}let n=0,l=-17976931348623157e292,a=17976931348623157e292;for(let e=0;e<t;e++)for(let s=0;s<t;s++){let r=i[s*t+e];0!=r&&(n+=r,l=r>l?r:l,a=r<a?r:a)}for(let e=0;e<t;e++)for(let s=0;s<t;s++){let r=i[s*t+e];if(0==r)continue;let n=(r-a)/(l-a);i[s*t+e]=.01+.99*n}return i[Y(r)*t+Y(r)]=1,i}q(t,e){return Y(Math.floor(2*e))}z(){null!=this.completedSink&&this.completedSink.onCompleted((()=>{let t=new ht;return t.url=this.w,t.x=this.n,t.y=this.o,t.z=this.p,t.globalMinimumValue=this.g.globalMinimum,t.globalMaximumValue=this.g.globalMaximum,t.globalMaximumValueLongitude=this.j,t.globalMaximumValueLatitude=this.i,t.globalMinimumValueLongitude=this.l,t.globalMinimumValueLatitude=this.k,t.imageData=this.a,t.image=this.g.image,t})())}get completedSink(){return this._completedSink}set completedSink(t){this._completedSink=t}}return t.$t=o(t,"HeatTileGeneratorWorker"),t.v={},t.s=0,t.m=0,t})(),mt=(()=>{class t extends i{constructor(t,e,i,s){super(),this.d=0,this.a=0,this.c=0,this.b=0,this.b=t,this.d=e,this.c=i,this.a=s}}return t.$t=o(t,"ScalerVisibleBounds"),t})(),gt=(()=>{class t extends i{constructor(t){switch(super(),this.s=0,this.t=0,this.r=0,this.n=0,this.q=0,this.o=0,this.p=0,this.m=0,t=null==t?0:t){case 0:{let t=arguments.length<=1?void 0:arguments[1],e=arguments.length<=2?void 0:arguments[2],i=arguments.length<=3?void 0:arguments[3],s=arguments.length<=4?void 0:arguments[4];this.top=e,this.left=t,this.width=i,this.height=s}break;case 1:{let t=arguments.length<=1?void 0:arguments[1],e=arguments.length<=2?void 0:arguments[2],i=arguments.length<=3?void 0:arguments[3];this.top=e,this.left=t,this.width=i.width,this.height=i.height}break;case 2:{let t=arguments.length<=1?void 0:arguments[1],e=arguments.length<=2?void 0:arguments[2];this.top=Math.min(t.y,e.y),this.left=Math.min(t.x,e.x),this.width=Math.max(Math.max(t.x,e.x)-this.left,0),this.height=Math.max(Math.max(t.y,e.y)-this.top,0)}break;case 3:{let t=arguments.length<=1?void 0:arguments[1],e=arguments.length<=2?void 0:arguments[2];this.top=t.y,this.left=t.x,this.width=e.width,this.height=e.height}break;case 4:this.top=0,this.left=0,this.width=0,this.height=0}}get x(){return this.s}set x(t){this.s=t,this.o=this.s,this.p=this.o+this.r}get y(){return this.t}set y(t){this.t=t,this.q=this.t,this.m=this.q+this.n}get width(){return this.r}set width(t){this.r=t,this.p=this.o+this.r}get height(){return this.n}set height(t){this.n=t,this.m=this.q+this.n}get top(){return this.q}set top(t){this.q=t,this.y=this.q}get left(){return this.o}set left(t){this.o=t,this.x=this.o}get right(){return this.p}set right(t){this.p=t,this.r=this.p-this.o}get bottom(){return this.m}set bottom(t){this.m=t,this.n=this.m-this.q}get isEmpty(){return this.r<0}static get empty(){return new t(0,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY)}equals1(e){return!t.l_op_Equality(e,null)&&e.x==this.x&&e.y==this.y&&e.width==this.width&&e.height==this.height}d(t,e){return t>=this.s&&t-this.r<=this.s&&e>=this.t&&e-this.n<=this.t}containsLocation(t,e){return!this.isEmpty&&this.d(t,e)}containsPoint(t){return this.containsLocation(t.x,t.y)}containsRect(t){return!this.isEmpty&&!t.isEmpty&&this.s<=t.s&&this.t<=t.t&&this.s+this.r>=t.s+t.r&&this.t+this.n>=t.t+t.n}inflate(t,e){this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,(this.r<0||this.n<0)&&this.af()}af(){this.top=Number.POSITIVE_INFINITY,this.left=Number.POSITIVE_INFINITY,this.width=Number.NEGATIVE_INFINITY,this.height=Number.NEGATIVE_INFINITY}intersectsWith(t){return!this.isEmpty&&!t.isEmpty&&t.left<this.right&&this.left<t.right&&t.top<this.bottom&&this.top<t.bottom}intersect(t){if(this.intersectsWith(t)){let e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),s=Math.min(this.x+this.width,t.x+t.width)-e,r=Math.min(this.y+this.height,t.y+t.height)-i;s<0&&(s=0),r<0&&(r=0),this.r=s,this.n=r,this.s=e,this.t=i,this.o=this.s,this.q=this.t,this.p=this.o+this.r,this.m=this.q+this.n}else this.af()}union(t){if(this.isEmpty)return this.s=t.x,this.t=t.y,this.r=t.width,this.n=t.height,this.o=this.s,this.q=this.t,this.p=this.o+this.r,void(this.m=this.q+this.n);if(!t.isEmpty){let e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),s=this.width,r=this.height;s=t.width==Number.POSITIVE_INFINITY||this.width==Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Math.max(this.right,t.right)-e,r=t.height==Number.POSITIVE_INFINITY||this.height==Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Math.max(this.bottom,t.bottom)-i,this.s=e,this.t=i,this.r=s,this.n=r,this.o=this.s,this.q=this.t,this.p=this.o+this.r,this.m=this.q+this.n}}equals(t){if(null==t)return super.equals(t);let e=t;return e.left==this.left&&e.top==this.top&&e.width==this.width&&e.height==this.height}getHashCode(){return this.s^this.t^this.r^this.n}copy(){return new t(0,this.x,this.y,this.width,this.height)}static l_op_Equality(t,e){return null==t?null==e:null!=e&&t.s==e.s&&t.t==e.t&&t.r==e.r&&t.n==e.n}static l_op_Inequality(t,e){return null==t?null!=e:null==e||t.s!=e.s||t.t!=e.t||t.r!=e.r||t.n!=e.n}}return t.$t=o(t,"Rect"),t})(),ct=(()=>{class t extends i{constructor(){super(),this.b=0,this.c=0,this.d=0,this.e=0,this.b=170.10225756,this.c=360,this.d=this.k(85.05112878),this.e=this.k(85.05112878)-this.k(-85.05112878)}k(t){let e=.017453292519943295*t,i=Math.sin(e);return.5*Math.log((1+i)/(1-i))}static a(t,e){let i=new gt(0,e.left/t.width,e.top/t.height,e.width/t.width,e.height/t.height),s=i.left+i.width*t.left,r=i.left+i.width*t.right,n=i.top+i.height*t.top,l=i.top+i.height*t.bottom;return new mt(s,n,r,l)}static m(t){return t=Math.exp(2*t),Math.asin((t-1)/(t+1))/.017453292519943295}t(e,i,s){let r=(e-s.top)*i.width+i.top*s.height;return r=this.k(85.05112878)-r/(s.height/this.e),t.m(r)}r(t,e,i){return(i.top+this.l(t,i.height)-e.top*i.height)/e.width}l(t,e){t=t>-85.05112878?t<85.05112878?t:85.05112878:-85.05112878;let i=this.k(t);return(this.d-i)*e/this.e}u(t,e,i){return(e.left+e.width*(t-i.left)/i.width)*this.c-180}s(t,e,i){let s=(t- -180)/this.c;return i.left+i.width*(s-e.left)/e.width}i(e,i){return t.a(e,i),this.t(i.bottom,e,i)}g(e,i){return t.a(e,i),this.t(i.top,e,i)}j(e,i){return t.a(e,i),this.u(i.left,e,i)}h(e,i){return t.a(e,i),this.u(i.right,e,i)}v(t,e,i){let s=i.height,r=i.top;for(let i=0;i<t.count;i++){let n=t._inner[i];n=n>-85.05112878?n<85.05112878?n:85.05112878:-85.05112878;let l=.017453292519943295*n,a=Math.sin(l),u=.5*Math.log((1+a)/(1-a)),h=(this.d-u)*s/this.e;h=r+h,t._inner[i]=(h-e.top*s)/e.width}}w(t,e,i){i.left,i.width,e.left,e.width;for(let s=0;s<t.count;s++){let r=(t._inner[s]- -180)/this.c;t._inner[s]=i.left+i.width*(r-e.left)/e.width}}}return t.$t=o(t,"HeatTileScaler"),t})(),pt=new s(null,"ITileWorkCompletedSink"),ft=(()=>{class t extends i{static get postmessage(){return t._postmessage}static set postmessage(e){t._postmessage=e}static onmessage(e){let i=e.data,s=i.cancelTile,n=i.z,l=i.y,a=i.x;if(s)for(let e=0;e<t.b.length;e++){let i=t.b[e];i.g.testRun||i.g.z!=n||i.g.x!=a||i.g.y!=l||(t.b.splice(e,1),e--)}let u=new K,h=i;if(!h.messageId)return;if(h.isNewData){let e=h.yValues,i=h.xValues,s=h.values;t._yValues=new Float64Array(e),t._xValues=new Float64Array(i),t._values=new Float64Array(s)}let o=h.scaleColors,m=new Array(o.length);for(let t=0;t<o.length;t++)m[t]=J.u(r(o[t].a),r(o[t].r),r(o[t].g),r(o[t].b));u.scaler=t.e,u.blurRadius=h.blurRadius,u.maxBlurRadius=h.maxBlurRadius,u.useBlurRadiusAdjustedForZoom=h.useBlurRadiusAdjustedForZoom,u.minimumColor=J.u(r(h.minimumColor.a),r(h.minimumColor.r),r(h.minimumColor.g),r(h.minimumColor.b)),u.maximumColor=J.u(r(h.maximumColor.a),r(h.maximumColor.r),r(h.maximumColor.g),r(h.maximumColor.b)),u.tileViewport=new gt(0,h.tileViewport.left,h.tileViewport.top,h.tileViewport.width,h.tileViewport.height),u.yValues=t._yValues,u.xValues=t._xValues,u.values=t._values,u.minimumVisibleLatitude=h.minimumVisibleLatitude,u.minimumVisibleLongitude=h.minimumVisibleLongitude,u.maximumVisibleLatitude=h.maximumVisibleLatitude,u.maximumVisibleLongitude=h.maximumVisibleLongitude,u.z=r(h.z),u.x=r(h.x),u.y=r(h.y),u.window=new gt(0,h.window.left,h.window.top,h.window.width,h.window.height),u.testRun=h.testRun,u.globalMinimum=h.globalMinimum,u.globalMaximum=h.globalMaximum,u.useGlobalMinMax=h.useGlobalMinMax,u.minimumValue=h.minimumValue,u.maximumValue=h.maximumValue,u.scaleColorOffsets=h.scaleColorOffsets,u.scaleColors=m,u.useLogarithmicScale=h.useLogarithmicScale,u.logarithmBase=h.logarithmBase;let g=new ot(u);g.u=r(h.messageId),g.h=!0,g.completedSink=new dt(g);let c=g;t.b.push(c)}static start(){let e=t.b;setInterval((function(){if(e.length>0){var t=e.shift();t.doWork(),t.completedSink=null}}),16)}}return t.$t=o(t,"HeatTileGeneratorWebWorker"),t.e=new ct,t.b=[],t._postmessage=null,t._yValues=null,t._xValues=null,t._values=null,t})(),dt=(()=>{class t extends i{constructor(t){super(),this.a=null,this.a=t}onCompleted(t){let e=t,i={},s=e.imageData;i.messageId=this.a.u,i.imageData=null==e.imageData?null:new Uint8ClampedArray(s).buffer,i.z=e.z,i.x=e.x,i.y=e.y,i.url=e.url,i.globalMinimumValue=e.globalMinimumValue,i.globalMaximumValue=e.globalMaximumValue,i.globalMaximumValueLongitude=e.globalMaximumValueLongitude,i.globalMaximumValueLatitude=e.globalMaximumValueLatitude,i.globalMinimumValueLongitude=e.globalMinimumValueLongitude,i.globalMinimumValueLatitude=e.globalMinimumValueLatitude,this.a.h&&null!=i.imageData?ft.postmessage(i,[i.imageData]):ft.postmessage(i)}}return t.$t=o(t,"CompletedSinkImpl",i.$,[pt]),t})();self.onmessage=ft.onmessage,ft.postmessage=function(){self.postMessage.apply(self,Array.prototype.slice.call(arguments))},ft.start()})();
//# sourceMappingURL=c14584efdd81d07bcede.bundle.worker.js.map