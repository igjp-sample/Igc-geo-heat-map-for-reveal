<!doctype html>
<html>
    <head>
        <title>MapDisplayImageryHeatTiles</title>
        <meta charset="UTF-8"/>
        <link rel="shortcut icon" href="https://static.infragistics.com/xplatform/images/browsers/wc.png">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Kanit&display=swap"/>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium Web"/>
        <link rel="stylesheet" href="https://static.infragistics.com/xplatform/css/samples/shared.v8.css"/>
        <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
        <script type="text/javascript" src="rplus_bridge_utils.js"></script>
        <script src="https://cdn.polyfill.io/v2/polyfill.min.js" crossorigin="anonymous"></script>
        <script type="text/javascript" src="html2canvas.min.js"></script>
    </head>
    <body>
        <div id="root">
            <div class="container sample">
                <igc-geographic-map id="geoMap" width="100%" height="100%"></igc-geographic-map>
            </div>
        </div>
        <script type="text/javascript">
            var geoMap = document.getElementById("geoMap");
            window.RPBridgeListener = {
                dataReady: function (tabularData) {
                    console.log(tabularData);
                    rdata = tabularData;
                    var json_text = JSON.stringify(dataArray);
                    geoMap.setAttribute('json-text', json_text);
                    var event = new Event("change");
                    geoMap.dispatchEvent(event);
                }
            };
            $(function () {
                RPBridgeUtils.notifyExtensionIsReady();
            });

            /*
            var dataArray = [
                ['Abbeville', 162.21609999999998, -432.5659, 30728],
                ['Abbotsford', 44.9437, -90.3148, 3888],
                ['Abbott', 31.887, -97.08, 363],
                ['Abbottstown', 39.8843, -76.9888, 1020],
                ['Abbyville', 37.9705, -98.2029, 87],
                ['Abercrombie', 46.4471, -96.7294, 261],
                ['Aberdeen', 282.5342, -663.0453, 89009]
            ]
            */
            var dataArray = rdata.data;

        </script>
        <script src="7ab209b28a6bc96eb4fc.bundle.js"></script>
    </body>
</html>